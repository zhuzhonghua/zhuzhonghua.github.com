---
layout: post
title: "在mingw环境下编译最新版本gcc gdb"
date: 2012-06-07 13:40
comments: true
categories: 
---

由于比较喜欢GCC的东西，又必须做WIN下的程序，但是考虑到效率问题    
1，使用LINUX交叉编译MINGW下的程序    
2，直接使用MINGW和MSYS编译WIN程序    

使用交叉编译的方法，在网上搜到的比较麻烦，而且又不是做嵌入式开发，必须用交叉编译;    
所以决定使用第二种方法。   

目前已经成功编译了GDB7.4.1和最新的BINUTILS，还有MPC，MPFR，等GCC需要依赖的库。    
晚上回去看一下GCC4.7.0的编译情况。   

不过在公司已经使用MINGW-GET拿到了GDB7.4和GCC4.6.2,而且使用正常。

目前是使用VIM做编辑器，使用EMACS做调试器（是不是有点小奢侈啊），幸好这两个神器都有WIN版本。

感谢GNU，感谢上帝。
==============================================================    
2012-06-08    

昨晚回去，出现了诡异的dllcrt2.o文件找不到的问题    
由于时间有限，又急着建立开发环境，所以决定把公司里使用mingw-get的版本拿回去。    
奇怪的是，家里使用mingw-get无法获取各种包，也就是不能用。   

今天在公司，不甘心，利用业余时间终于把这个问题搞定。    

网上也有人遇到这个问题，文件是有的，在/mingw/lib下

刚开始使用LDFLAGS无效，后来使用GCC_EXEC_PREFIX连configure都无法通过。    

在这个命令的下面看到了，LIBRARY_PATH，于是灵光一现，配置好/mingw/lib    

结果编译了一个下午, 公司的电脑还算好的。    

自己编译GCC真不是玩的。花的时间太久了。

不过总算了解了自己的一个心病。

而且在网上差资料，关于dllcrt2.o的东西，都是外文。这里也算有个中文的关于这个的资料吧。

tips:

1, BINUTILS要使用最新版本，这个编译起来很快。    
要不然会出现unknown-pseudo .cfi_sections
2, 还有它依赖的其他库文件

其他问题就不大了，祝各位看官好运
