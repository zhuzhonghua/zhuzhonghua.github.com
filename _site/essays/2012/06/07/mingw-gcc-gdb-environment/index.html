
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>在mingw环境下编译最新版本gcc gdb</title>
    
    <meta name="author" content="zhonghua">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">非著名程序</a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/about.html">关于</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>在mingw环境下编译最新版本gcc gdb<small>非著名程序</small></h1>
</div>

<div class="row">
  <div class="span8">
    

<p>由于比较喜欢GCC的东西，又必须做WIN下的程序，但是考虑到效率问题  <br/>
1，使用LINUX交叉编译MINGW下的程序  <br/>
2，直接使用MINGW和MSYS编译WIN程序</p>

<p>使用交叉编译的方法，在网上搜到的比较麻烦，而且又不是做嵌入式开发，必须用交叉编译;  <br/>
所以决定使用第二种方法。</p>

<p>目前已经成功编译了GDB7.4.1和最新的BINUTILS，还有MPC，MPFR，等GCC需要依赖的库。  <br/>
晚上回去看一下GCC4.7.0的编译情况。</p>

<p>不过在公司已经使用MINGW-GET拿到了GDB7.4和GCC4.6.2,而且使用正常。</p>

<p>目前是使用VIM做编辑器，使用EMACS做调试器（是不是有点小奢侈啊），幸好这两个神器都有WIN版本。</p>

<h1>感谢GNU，感谢上帝。</h1>

<p>2012-06-08</p>

<p>昨晚回去，出现了诡异的dllcrt2.o文件找不到的问题  <br/>
由于时间有限，又急着建立开发环境，所以决定把公司里使用mingw-get的版本拿回去。  <br/>
奇怪的是，家里使用mingw-get无法获取各种包，也就是不能用。</p>

<p>今天在公司，不甘心，利用业余时间终于把这个问题搞定。</p>

<p>网上也有人遇到这个问题，文件是有的，在/mingw/lib下</p>

<p>刚开始使用LDFLAGS无效，后来使用GCC_EXEC_PREFIX连configure都无法通过。</p>

<p>在这个命令的下面看到了，LIBRARY_PATH，于是灵光一现，配置好/mingw/lib</p>

<p>结果编译了一个下午, 公司的电脑还算好的。</p>

<p>自己编译GCC真不是玩的。花的时间太久了。</p>

<p>不过总算了解了自己的一个心病。</p>

<p>而且在网上差资料，关于dllcrt2.o的东西，都是外文。这里也算有个中文的关于这个的资料吧。</p>

<p>tips:</p>

<p>1, BINUTILS要使用最新版本，这个编译起来很快。  <br/>
要不然会出现unknown-pseudo .cfi_sections
2, 还有它依赖的其他库文件</p>

<p>其他问题就不大了，祝各位看官好运</p>

    <hr>
    <!--
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/essays/2012/06/05/sicp-parsk" title="sicp上的练习题Parsk三角">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/essays/2012/07/11/dota2-valve-braham-cohen-bt" title="dota2 valve Bram Cohen BT">Next &rarr;</a></li>
      
      </ul>
    </div>
    -->
    <hr>
    
  </div>
  
  <!--
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>07 June 2012</span></div>

  
    <h4>Tags</h4>
    <ul class="tag_box">
    
    


  
     
    	<li><a href="/tags.html#essays-ref">essays <span>12</span></a></li>
    
  



    </ul>
    
  </div>
  -->
  <div class="span4">
    
<p>1, 程序</p>

<p>2, 当你年老时不会因为虚度年华而悔恨，不会因为碌碌无为而羞耻</p>

<p>3, zhu.zhonghua@yahoo.com</p>

<p>4, 司令流三四四就气流</p>

<p>5, skype: secondsquare </p>

<a href="https://me.alipay.com/secondsquare">Donate</a>


  </div>
</div>


      </div>

<!--      <footer>
        <p>&copy; zhonghua 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>
      -->

    </div> <!-- /container -->

    
  </body>
</html>

